<main id="site__main" class="2xl:ml-[--w-side]  xl:ml-[--w-side-sm] p-2.5 h-[calc(100vh-var(--m-top))] mt-[--m-top]">

  <div class="flex max-lg:flex-col 2xl:gap-12 gap-10 2xl:max-w-[1220px] max-w-[1065px] mx-auto" id="js-oversized">

    <div class="flex-1">

      <div class="page-heading">

        <h1 class="page-title"> Articles </h1>

        <nav class="nav__underline">

          <ul uk-tab class="group" uk-switcher="connect: #ttabs ; animation: uk-animation-slide-right-medium, uk-animation-slide-left-medium">

            <li> <a href="#"> Suggestions </a> </li>
            <li> <a href="#"> Popular </a> </li>
            <li> <a href="#"> My article </a> </li>

          </ul>

        </nav>

      </div>

      <!--  feature blog slider -->
      <div  tabindex="-1" uk-slider="finite:true">

        <div class="uk-slider-container pb-1">

          <ul class="uk-slider-items grid-small">
            @for (post of posts; track $index){

              <li class="sm:w-1/3 w-1/2">
                <div class="card">
                  <a [routerLink]="['/posts/details',post.id]">
                    <div class="card-media h-32">
                      <img src="../../../assets/images/blog/img-1.jpg" alt="">
                      <div class="card-overly"></div>
                    </div>
                  </a>
                  <div class="card-body">
                    <a [routerLink]="['/posts/details',post.id]">
                      <h4 class="card-title text-sm line-clamp-2"> {{post.title}} </h4>
                    </a>
                    <p class="card-text text-xs mt-1.5"> <a href="#">  {{post.owner.username}} </a> </p>
                    <div class="card-list-info mt-1 text-xs">
                      <div> {{ post.created_at | date: 'short' }} </div>
                      <div class="md:block hidden">Â·</div>
                      <div> {{post.votes}} votes</div>
                    </div>
                  </div>
                </div>
              </li>
            }

          </ul>

        </div>

        <!-- slide nav icons -->
        <a class="nav-prev !top-24" href="#" uk-slider-item="previous"> <ion-icon name="chevron-back" class="text-2xl"></ion-icon> </a>
        <a class="nav-next !top-24" href="#" uk-slider-item="next"> <ion-icon name="chevron-forward" class="text-2xl"></ion-icon></a>

      </div>

      <!-- title -->
      <div class="flex items-center justify-between text-black dark:text-white py-3 mt-8">
        <h3 class="text-xl font-semibold"> Articles for you </h3>
        <a href="#" class="text-sm text-blue-500">See all</a>
      </div>

      <!-- articale list layout -->
      <div class="box p-5 mt-4">

        @for (post of posts; track $index){
          <div class="card-list">
            <a [routerLink]="['/post/details',post.id]" class="lg:order-1">
              <div class="card-list-media h-32">
                <img src="../../../assets/images/blog/img-2.jpg" alt="">
              </div>
            </a>
            <div class="card-list-body">
              <a [routerLink]="['/posts/details/',post.id]"> <h3 class="card-list-title"> {{post.title}} </h3> </a>
              <p class="card-list-text"> {{post.content}}</p>
              <a href="#"> <div class="card-list-link"> {{post.owner.username}} </div> </a>
              <div class="card-list-info">
                <div class="flex items-center gap-2">
                  <app-post-up-vote [postId]="post.id"></app-post-up-vote>
                  <app-post-down-vote [postId]="post.id"></app-post-down-vote>
                  {{ post.votes }} votes
                </div>
              </div>
            </div>
          </div>
          <hr class="card-list-divider">
        }
      </div>

      <div class="flex justify-center my-6">
        <button type="button" class="bg-white py-2 px-5 rounded-full shadow-md font-semibold text-sm dark:bg-dark2">Load more...</button>
      </div>

    </div>
  </div>

</main>
